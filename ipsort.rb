#!/usr/bin/env ruby

#Take in a file of line-separated IP addresses, sort and unique them, and then print them out to STDOUT

# JoSko - 11.03.2016

#Print help if no arguments supplied
if ARGV.empty?
	puts "Input a file of line-separated IP addresses, and outputs sorted line-separated list..."
	puts "ipsort.rb FILE"
else
	ip_array = IO.readlines "#{ARGV[0]}"
	ip_array.sort_by! { |host| host.split(".").map(&:to_i) }
	ip_array.uniq.each { |ip| puts ip }
end
